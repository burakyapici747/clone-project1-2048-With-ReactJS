{"ast":null,"code":"var _jsxFileName = \"/Users/burakyapici/Desktop/clone-project1-2048/src/components/GameBox.js\";\nimport React from \"react\";\nimport GameRow from \"./GameRow\";\nimport GameNumber from \"./GameNumber\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class GameBox extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      gameMap: this.props.gameStateMap,\n      gameIdMap: [[-1, -1, -1, -1], [-1, -1, -1, -1], [-1, -1, -1, -1], [-1, -1, -1, -1]],\n      gameNextValue: 0\n    };\n    const self = this;\n    window.addEventListener('keydown', function (e) {\n      if (e.key == \"ArrowRight\") {\n        self.slipToRight();\n      } else if (e.key == \"ArrowLeft\") {\n        self.slipToLeft();\n      } else if (e.key == \"ArrowUp\") {\n        self.slipToTop();\n      } else if (e.key == \"ArrowDown\") {\n        self.slipToBottom();\n      }\n    });\n    self.createGridCell(1);\n    console.log(self.state.gameIdMap);\n    console.log(self.state.gameMap);\n  }\n\n  createGridCell(cellAmount) {\n    let newArr = [];\n    Array.prototype.push.apply(newArr, this.state.gameMap);\n    let newArrId = this.state.gameIdMap;\n    let randomNumbersArr = [];\n\n    if (this.mapIsEmpty()) {\n      for (let i = 1; i <= cellAmount; i++) {\n        randomNumbersArr = this.createRandomNumber(0, 4);\n        newArrId[randomNumbersArr[0][0]][randomNumbersArr[0][1]] = this.state.gameNextValue;\n        newArr[randomNumbersArr[0][0]][randomNumbersArr[0][1]] = randomNumbersArr[1][0];\n      }\n\n      this.setState({\n        gameMap: newArr,\n        gameIdMap: newArrId\n      });\n    }\n  }\n\n  increaseNextValue() {\n    let number = this.state.gameNextValue;\n\n    if (number > 0 && number < 15) {\n      number++;\n    }\n\n    this.setState({\n      gameNextValue: number\n    });\n    return number;\n  }\n\n  decreaseNextValue() {\n    let number = this.state.gameNextValue;\n\n    if (number > 0) {\n      number--;\n    }\n\n    this.setState({\n      gameNextValue: number\n    });\n  }\n\n  mapIsEmpty() {\n    for (let col = 0; col < this.state.gameMap.length; col++) {\n      for (let row = 0; row < this.state.gameMap[col].length; row++) {\n        if (this.state.gameMap[col][row] == 0) {\n          return true;\n        }\n      }\n    }\n\n    return false;\n  }\n\n  createRandomNumber(minValue, maxValue) {\n    let randomCol = 0,\n        randomRow = 0;\n    let randomNumber = [2, 4];\n\n    for (;;) {\n      randomCol = Math.floor(Math.random() * (maxValue - minValue)) + minValue;\n      randomRow = Math.floor(Math.random() * (maxValue - minValue)) + minValue;\n\n      if (!this.isSameIndex(randomCol, randomRow)) {\n        return [[randomCol, randomRow], [randomNumber[Math.floor(Math.random() * (2 - 0)) + 0]]];\n      }\n    }\n  }\n\n  slipToRight() {\n    let newArr = this.state.gameMap;\n    let buffer = 3;\n\n    for (let col = 0; col < this.state.gameMap.length; col++) {\n      buffer = 3;\n\n      for (let row = 2; row >= 0; row--) {\n        if (newArr[col][row] != 0) {\n          for (let i = row; i < buffer; i++) {\n            if (newArr[col][i] == newArr[col][i + 1]) {\n              newArr[col][i + 1] = newArr[col][i + 1] + newArr[col][i];\n              newArr[col][i] = 0;\n              buffer--;\n              this.setState({\n                gameMap: newArr\n              });\n            } else if (newArr[col][i] != newArr[col][i + 1] && newArr[col][i + 1] != 0) {\n              buffer--;\n            } else {\n              newArr[col][i + 1] = newArr[col][i];\n              newArr[col][i] = 0;\n              this.setState({\n                gameMap: newArr\n              });\n            }\n          }\n        }\n      }\n    }\n\n    this.setState({\n      gameMap: newArr\n    });\n    this.createGridCell(1);\n  }\n\n  slipToLeft() {\n    let newArr = this.state.gameMap;\n    let buffer = 0;\n\n    for (let col = 0; col < this.state.gameMap.length; col++) {\n      buffer = 0;\n\n      for (let row = 0; row <= 3; row++) {\n        if (newArr[col][row] != 0) {\n          for (let i = row; i > buffer; i--) {\n            if (newArr[col][i] == newArr[col][i - 1]) {\n              newArr[col][i - 1] = newArr[col][i - 1] + newArr[col][i];\n              newArr[col][i] = 0;\n              buffer++;\n              this.setState({\n                gameMap: newArr\n              });\n            } else if (newArr[col][i] != newArr[col][i - 1] && newArr[col][i - 1] != 0) {\n              buffer++;\n            } else {\n              newArr[col][i - 1] = newArr[col][i];\n              newArr[col][i] = 0;\n              this.setState({\n                gameMap: newArr\n              });\n            }\n          }\n        }\n      }\n    }\n\n    this.createGridCell(1);\n  }\n\n  slipToTop() {\n    let newArr = this.state.gameMap;\n    let buffer = 0;\n\n    for (let row = this.state.gameMap.length - 1; row >= 0; row--) {\n      buffer = 0;\n\n      for (let col = 0; col <= this.state.gameMap.length - 1; col++) {\n        if (newArr[col][row] != 0) {\n          for (let i = col; i > buffer; i--) {\n            if (newArr[i][row] == newArr[i - 1][row]) {\n              newArr[i - 1][row] = newArr[i - 1][row] + newArr[i][row];\n              newArr[i][row] = 0;\n              buffer++;\n              this.setState({\n                gameMap: newArr\n              });\n            } else if (newArr[i][row] != newArr[i - 1][row] && newArr[i - 1][row] != 0) {\n              buffer++;\n            } else {\n              newArr[i - 1][row] = newArr[i][row];\n              newArr[i][row] = 0;\n              this.setState({\n                gameMap: newArr\n              });\n            }\n          }\n        }\n      }\n    }\n\n    this.createGridCell(1);\n  }\n\n  slipToBottom() {\n    let newArr = this.state.gameMap;\n    let buffer = 3;\n\n    for (let row = this.state.gameMap.length - 1; row >= 0; row--) {\n      buffer = 3;\n\n      for (let col = this.state.gameMap.length - 1; col >= 0; col--) {\n        if (newArr[col][row] != 0) {\n          for (let i = col; i < buffer; i++) {\n            if (newArr[i][row] == newArr[i + 1][row]) {\n              newArr[i + 1][row] = newArr[i + 1][row] + newArr[i][row];\n              newArr[i][row] = 0;\n              buffer--;\n              this.setState({\n                gameMap: newArr\n              });\n            } else if (newArr[i][row] != newArr[i + 1][row] && newArr[i + 1][row] != 0) {\n              buffer--;\n            } else {\n              newArr[i + 1][row] = newArr[i][row];\n              newArr[i][row] = 0;\n              this.setState({\n                gameMap: newArr\n              });\n            }\n          }\n        }\n      }\n    }\n\n    this.createGridCell(1);\n  }\n\n  isSameIndex(col, row) {\n    if (this.state.gameMap[col][row] != 0) {\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  changeStateMap(value, column, row) {\n    let newArr = [];\n\n    for (let col = 0; col < this.state.gameMap.length; col++) {\n      for (let row = 0; row < this.state.gameMap[col].length; row++) {\n        newArr.push();\n      }\n    }\n\n    this.setState({\n      gameMap: newArr\n    });\n  }\n\n  calculateLocation(col, row) {\n    return [col * 106.25 + (col + 1) * 15, row * 106.25 + (row + 1) * 15];\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"gameBox\",\n      children: this.state.gameMap.map((element, index) => {\n        return /*#__PURE__*/_jsxDEV(GameRow, {\n          id: index,\n          value: element\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 229,\n          columnNumber: 17\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n/*\n\n\n{this.state.gameMap.map(\n          (colValue, colIndex) => {\n            return this.state.gameMap[colIndex].map(\n              (cellValue, cellIndex) => {\n                if(cellValue != 0){\n                  return(\n                    <GameNumber value={cellValue} key={cellIndex} row={colIndex} col={cellIndex} location={this.calculateLocation}/>\n                  );\n                }\n              }\n            )\n          }\n        )}\n\n\n*/","map":{"version":3,"sources":["/Users/burakyapici/Desktop/clone-project1-2048/src/components/GameBox.js"],"names":["React","GameRow","GameNumber","GameBox","Component","constructor","props","state","gameMap","gameStateMap","gameIdMap","gameNextValue","self","window","addEventListener","e","key","slipToRight","slipToLeft","slipToTop","slipToBottom","createGridCell","console","log","cellAmount","newArr","Array","prototype","push","apply","newArrId","randomNumbersArr","mapIsEmpty","i","createRandomNumber","setState","increaseNextValue","number","decreaseNextValue","col","length","row","minValue","maxValue","randomCol","randomRow","randomNumber","Math","floor","random","isSameIndex","buffer","changeStateMap","value","column","calculateLocation","render","map","element","index"],"mappings":"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","sourcesContent":["import React from \"react\";\nimport GameRow from \"./GameRow\";\nimport GameNumber from \"./GameNumber\";\nexport default class GameBox extends React.Component{\n\n  constructor(props){\n      super(props);\n      this.state = {\n        gameMap: this.props.gameStateMap,\n        gameIdMap: [\n          [-1, -1, -1, -1],\n          [-1, -1, -1, -1],\n          [-1, -1, -1, -1],\n          [-1, -1, -1, -1],\n        ],\n        gameNextValue: 0,\n      }\n      const self = this;\n      window.addEventListener('keydown', function(e){\n        if(e.key == \"ArrowRight\"){\n          self.slipToRight();\n        }else if(e.key == \"ArrowLeft\"){\n          self.slipToLeft();\n        }else if(e.key == \"ArrowUp\"){\n          self.slipToTop();\n        }else if(e.key == \"ArrowDown\"){\n          self.slipToBottom();\n        }\n      });\n      self.createGridCell(1);\n      console.log(self.state.gameIdMap);\n      console.log(self.state.gameMap);\n  }\n\n  createGridCell(cellAmount){\n    let newArr = [];\n    Array.prototype.push.apply(newArr, this.state.gameMap)\n    let newArrId = this.state.gameIdMap;\n    let randomNumbersArr = [];\n    if(this.mapIsEmpty()){\n      for(let i = 1; i <= cellAmount; i++){\n        randomNumbersArr = this.createRandomNumber(0,4);\n        newArrId[randomNumbersArr[0][0]][randomNumbersArr[0][1]] = this.state.gameNextValue;\n        newArr[randomNumbersArr[0][0]][randomNumbersArr[0][1]] = randomNumbersArr[1][0];\n      }\n      this.setState({gameMap: newArr, gameIdMap: newArrId});\n    }\n  }\n\n  increaseNextValue(){\n    let number = this.state.gameNextValue;\n    if(number > 0 && number < 15){\n      number++;\n    }\n    this.setState({gameNextValue: number});\n    return number;\n  }\n\n  decreaseNextValue(){\n    let number = this.state.gameNextValue;\n    if(number > 0){\n      number--;\n    }\n    this.setState({gameNextValue: number});\n  }\n\n  mapIsEmpty(){\n    for(let col = 0; col < this.state.gameMap.length; col++){\n      for(let row = 0; row < this.state.gameMap[col].length; row++){\n        if(this.state.gameMap[col][row] == 0){\n          return true;\n        }\n      }\n    }\n    return false;\n  }\n\n  createRandomNumber(minValue, maxValue){\n    let randomCol = 0, randomRow = 0;\n    let randomNumber = [2, 4];\n    for(;;){\n      randomCol = Math.floor(Math.random() * (maxValue - minValue)) + minValue;\n      randomRow = Math.floor(Math.random() * (maxValue - minValue)) + minValue;\n      if(!this.isSameIndex(randomCol, randomRow)){\n        return [[randomCol, randomRow], [randomNumber[Math.floor(Math.random() * (2 - 0)) + 0]]];\n      }\n    }\n  }\n\n  slipToRight(){\n    let newArr = this.state.gameMap;\n    let buffer = 3;\n    for(let col = 0; col < this.state.gameMap.length; col++){\n      buffer = 3;\n      for(let row = 2; row >= 0; row--){        \n        if(newArr[col][row] != 0){\n          for(let i = row; i < buffer; i++){\n            if(newArr[col][i] == newArr[col][i + 1]){\n              newArr[col][i + 1] = newArr[col][i + 1] + newArr[col][i];\n              newArr[col][i] = 0;\n              buffer--;\n              this.setState({gameMap: newArr});\n            }else if( ( newArr[col][i] != newArr[col][i + 1] ) && ( newArr[col][i + 1] != 0 ) ){\n              buffer--;\n            }else{\n              newArr[col][i+1] = newArr[col][i];\n              newArr[col][i] = 0;\n              this.setState({gameMap: newArr});\n            }\n          } \n        }\n      }\n    }\n    this.setState({gameMap: newArr});\n    this.createGridCell(1);\n  }\n\n  slipToLeft(){\n    let newArr = this.state.gameMap;\n    let buffer = 0;\n    for(let col = 0; col < this.state.gameMap.length; col++){\n      buffer = 0;\n      for(let row = 0; row <= 3; row++){        \n        if(newArr[col][row] != 0){\n          for(let i = row; i > buffer; i--){\n            if(newArr[col][i] == newArr[col][i - 1]){\n              newArr[col][i - 1] = newArr[col][i - 1] + newArr[col][i];\n              newArr[col][i] = 0;\n              buffer++;\n              this.setState({gameMap: newArr});\n            }else if( ( newArr[col][i] != newArr[col][i - 1] ) && ( newArr[col][i - 1] != 0 ) ){\n              buffer++;\n            }else{\n              newArr[col][i - 1] = newArr[col][i];\n              newArr[col][i] = 0;\n              this.setState({gameMap: newArr});\n            }\n          } \n        }\n      }\n    }\n    this.createGridCell(1);\n  }\n\n  slipToTop(){\n    let newArr = this.state.gameMap;\n    let buffer = 0;\n    for(let row = this.state.gameMap.length - 1; row >= 0; row--){\n      buffer = 0;\n      for(let col = 0; col <= this.state.gameMap.length -1; col++){\n        if(newArr[col][row] != 0){\n          for(let i = col; i > buffer; i--){\n            if(newArr[i][row] == newArr[i-1][row]){\n              newArr[i - 1][row] = newArr[i -1][row] + newArr[i][row];\n              newArr[i][row] = 0;\n              buffer++;\n              this.setState({gameMap: newArr});\n            }else if( ( newArr[i][row] != newArr[i-1][row] ) && ( newArr[i-1][row] != 0 ) ){\n              buffer++;\n            }else{\n              newArr[i-1][row] = newArr[i][row];\n              newArr[i][row] = 0;\n              this.setState({gameMap: newArr});\n            }\n          } \n        }\n      }\n    }\n    this.createGridCell(1);\n  }\n\n  slipToBottom(){\n    let newArr = this.state.gameMap;\n    let buffer = 3;\n    for(let row = this.state.gameMap.length - 1; row >= 0; row--){\n      buffer = 3;\n      for(let col = this.state.gameMap.length-1; col >= 0; col--){\n        if(newArr[col][row] != 0){\n          for(let i = col; i < buffer; i++){\n            if(newArr[i][row] == newArr[i+1][row]){\n              newArr[i + 1][row] = newArr[i +1][row] + newArr[i][row];\n              newArr[i][row] = 0;\n              buffer--;\n              this.setState({gameMap: newArr});\n            }else if( ( newArr[i][row] != newArr[i+1][row] ) && ( newArr[i+1][row] != 0 ) ){\n              buffer--;\n            }else{\n              newArr[i+1][row] = newArr[i][row];\n              newArr[i][row] = 0;\n              this.setState({gameMap: newArr});\n            }\n          } \n        }\n      }\n    }\n    this.createGridCell(1);\n  }\n\n  isSameIndex(col, row){\n    if(this.state.gameMap[col][row] != 0){\n      return true;\n    }else{\n      return false;\n    }\n  }\n  \n  changeStateMap(value, column, row){\n    let newArr = [];\n    for(let col = 0; col < this.state.gameMap.length; col++){\n        for(let row = 0; row < this.state.gameMap[col].length; row++){\n          newArr.push();\n        }\n    }\n    this.setState({\n      gameMap: newArr,\n    });\n  }\n\n  calculateLocation(col, row){\n    return [((col * 106.25) + (col+1) * 15), ((row * 106.25) + (row+1) * 15)];\n  }\n\n  render(){\n    return(\n      <div className=\"gameBox\">\n        {this.state.gameMap.map(\n          (element, index) => {\n            return(\n                <GameRow key={index} id={index} value={element}/>\n            );\n          }\n        )}\n      </div>\n    );\n  }\n}\n\n\n\n\n\n/*\n\n\n{this.state.gameMap.map(\n          (colValue, colIndex) => {\n            return this.state.gameMap[colIndex].map(\n              (cellValue, cellIndex) => {\n                if(cellValue != 0){\n                  return(\n                    <GameNumber value={cellValue} key={cellIndex} row={colIndex} col={cellIndex} location={this.calculateLocation}/>\n                  );\n                }\n              }\n            )\n          }\n        )}\n\n\n*/"]},"metadata":{},"sourceType":"module"}